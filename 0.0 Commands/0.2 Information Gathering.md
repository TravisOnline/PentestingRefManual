### Passive:
#### Google Hacking
```
Operators:
- Site:
	- site:megacorpone.com
	- limits search to a single domain
- filetype:
	- filetype:txt
	- filetype:html
- ext:
	- ext:php 
	- ext:xml 
	- ext:py
	- can be useful to determine index filetypes
- intitle:
	- intitle: "index of" "parent directory"
		- finding directory listings
https://www.exploit-db.com/google-hacking-database
https://dorksearch.com/
```

### Active

#### DNS enumeration
```
- host -t mx <website>
- host -t txt <website>
- for ip in $(cat list.txt); do host $ip.megacorpone.com; done
- for ip in $(seq 200 254); do host 51.222.169.$ip; done | grep -v "not found"
- dnsrecon -d megacorpone.com -D ~/list.txt -t brt
- dnsenum <hostname>
- C:\Users\student>nslookup -type=TXT info.megacorptwo.com 192.168.50.151
```

#### Portscanning with Netcat
```
tcp: kali@kali:~$ nc -nvv -w 1 -z 192.168.50.152 3388-3390
udp: kali@kali:~$ nc -nv -u -z -w 1 192.168.50.149 120-123
```

- Use https://www.netcraft.com/ to search for domain names and website names

### Passive
- Use `exiftool -a -u` to display file metadata
### SMB Enumeration
Linux:
`sudo nbtscan -r <ip>/CIDR`
Windows:
`net view \\dc01 /all`

#### SMTP Enumeration
Validating a username
```
#!/usr/bin/python

import socket
import sys

if len(sys.argv) != 3:
        print("Usage: vrfy.py <username> <target_ip>")
        sys.exit(0)

# Create a Socket
s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

# Connect to the Server
ip = sys.argv[2]
connect = s.connect((ip,25))

# Receive the banner
banner = s.recv(1024)

print(banner)

# VRFY a user
user = (sys.argv[1]).encode()
s.send(b'VRFY ' + user + b'\r\n')
result = s.recv(1024)

print(result)

# Close the socket
s.close()
```

#### SNMP
- port 161
- use `snmpwalk -c public v1 -t 10 <ip address>` 